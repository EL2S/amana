{% extends 'base.html' %}
{% block title %}ajouter un assurance{% endblock %}
{% block script %}insurance.js
{% endblock %}
{% block content %}
<main id="main" class="main">
    <div class="pagetitle">
        <h1>Ajouter un assurance</h1>
        <nav>
            <ol class="breadcrumb">
                <li class="breadcrumb-item">
                    <div>Accueil</div>
                </li>
                <li class="breadcrumb-item">Assurance</li>
                <li class="breadcrumb-item active">Ajouter</li>
            </ol>
        </nav>
    </div>
    <section class="section">
        <div class="card">
            <div class="card-body">
                <h5 class="card-title">Information sur l'assurance</h5>
                {% if error_message %}
                <div class="alert alert-danger" role="alert">
                    {{ error_message }}
                </div>
                <script>
                    setTimeout(function () {
                        window.location.href = "{% url 'add_insurance' %}";
                    }, 3000);
                </script>
                {% endif %}
                <!-- General Form Elements -->
                <form method="POST" class="needs-validation" novalidate>
                    {% csrf_token %}
                    <div class="row">
                        <div class="col-sm-6 mb-3 has-validation">
                            <label for="certificate_number" class="col-form-label">Numéro d'attestation</label>
                            <input type="text" class="form-control" name="certificate_number" id="certificate_number" required>
                            <div class="invalid-feedback">Veuillez entrer le numéro d'attestation.</div>
                        </div>
                        <div class="col-sm-6 mb-3">
                            <label for="policy_number" class="col-form-label">Numéro de police</label>
                            <input type="text" class="form-control" name="policy_number" id="policy_number" required>
                            <div class="invalid-feedback">Veuillez entrer le numéro de police.</div>
                        </div>
                        <div class="col-sm-6 mb-3 has-validation">
                            <label for="insured" class="col-form-label">Assurés</label>
                            <input type="text" class="form-control" name="insured" id="insured" required>
                            <div class="invalid-feedback">Veuillez entrer l'assuré'</div>
                        </div>
                        <div class="col-sm-6 mb-3 has-validation">
                            <label for="period" class="col-form-label">Période</label>
                            <input type="text" class="form-control" name="period" id="period" required>
                            <div class="invalid-feedback">Veuillez entrer la période'</div>
                        </div>
                        <div class="col-sm-6 mb-3 has-validation">
                            <label for="address" class="col-form-label">Adresse</label>
                            <input type="text" class="form-control" name="address" id="address" required>
                            <div class="invalid-feedback">Veuillez entrer l'adresse</div>
                        </div>
                        <div class="col-sm-6 mb-3 has-validation">
                            <label for="phone" class="col-form-label">Téléphone</label>
                            <input type="text" class="form-control" name="phone" id="phone" required>
                            <div class="invalid-feedback">Veuillez entrer le numéro de téléphone</div>
                        </div>
                        <div class="col-sm-6 mb-3">
                            <label for="insurance_type" class="col-form-label">Type d'assurance</label>
                            <select class="form-select" name="insurance_type" id="insurance_type">
                                <option value="Santé">Santé</option>
                                <option value="Auto">Auto</option>
                                <option value="Voyage">Voyage</option>
                                <option value="Autre">Autre</option>
                            </select>
                        </div>
                        <div class="col-sm-6 mb-3">
                            <label class="col-form-label">Désignation</label>
                            <select class="form-select" name="other" id="other">
                                <option value="Vie credit">Vie credit</option>
                                <option value="Globale banque">Globale banque</option>
                                <option value="Maritime">Maritime</option>
                                <option value="Dommages">Dommages</option>
                                <option value="Incendie">Incendie</option>
                                <option value="Habilitation">Habilitation</option>
                                <option value="RC">RC</option>
                                <option value="Tous risques chantiers">Tous risques chantiers</option>
                                <option value="Transport de fonds">Transport de fonds</option>
                                <option value="Multi risques">Multi risques</option>
                                <option value="RC pro">RC pro</option>
                            </select>
                            <select class="form-select" name="car" id="car">
                                <option value="RC">RC</option>
                                <option value="RC, Incendie, Vol, Bris de glace, AFP">RC, Incendie, Vol, Bris de glace, AFP</option>
                                <option value="Tous Risques">Tous Risques</option>
                                <option value="RC, Bris de glace">RC, Bris de glace</option>
                                <option value="RC, Bris de glace, AFP">RC, Bris de glace, AFP</option>
                            </select>
                            <select class="form-select" name="journey" id="journey">
                                <option value="Definitive">Definitive</option>
                                <option value="Provisoire">Provisoire</option>
                            </select>
                            <input type="text" class="form-control" name="health" id="health" disabled>
                        </div>
                        <div class="col-sm-6 mb-3 has-validation">
                            <label for="premium" class="col-form-label">Prime</label>
                            <input type="number" class="form-control" name="premium" id="premium" required>
                            <div class="invalid-feedback">Veuillez entrer la prime</div>
                        </div>
                        <div class="col-sm-6 mb-3 has-validation">
                            <label for="deposit" class="col-form-label">Acompte</label>
                            <input type="number" class="form-control" name="deposit" id="deposit" required>
                            <div class="invalid-feedback">Veuillez entrer l'acompte</div>
                        </div>
                        <div class="col-sm-6 mb-3 has-validation">
                            <label for="balance" class="col-form-label">Solde</label>
                            <input type="number" class="form-control" name="balance" id="balance" disabled>
                            <input type="hidden" class="form-control" name="balance" id="hiddenBalance">
                            <div class="invalid-feedback">Veuillez entrer le solde</div>
                        </div>
                        <div class="col-sm-6 mb-3">
                            <label for="payement_method" class="col-form-label">Mode de paiement</label>
                            <select class="form-select" name="payement_method" id="payement_method">
                                <option value="Chèque">Chèque</option>
                                <option value="Espèces">Espèces</option>
                                <option value="Virement">Virement</option>
                                <option value="En euro">En euro</option>
                                <option value="Vide">Vide</option>
                            </select>
                        </div>
                    </div>
                    <div class="row mb-3 mt-4">
                        <div class="col-sm-10">
                            <button type="submit" class="btn btn-success">Sauvegarder</button>
                        </div>
                    </div>

                </form>

            </div>
        </div>
    </section>
</main>
{% endblock %}